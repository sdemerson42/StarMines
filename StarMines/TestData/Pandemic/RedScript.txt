setSpeed 60;
let dir 4;

def dirPhase;
let oldDir dir;
def changeLoop;
rand dir 0 3;
if dir == oldDir @changeLoop;
if dir == 0 ^setVecA;
if dir == 1 ^setVecB;
if dir == 2 ^setVecC;
if dir == 3 ^setVecD;

rand moveTime 20 40;
let moveCounter 0;
jump @loop;

def setVecA;
setDir 1 0;
retSub;

def setVecB;
setDir (0-1) 0;
retSub;

def setVecC;
setDir 0 (0-1);
retSub;

def setVecD;
setDir 0 1;
retSub;

def loop;
letPos ox oy;
pause;
posBound 0 770 0 570;
letPos x y;
if x == ox and y == oy @dirPhase;
inc moveCounter 1;
if moveCounter == moveTime @dirPhase;
jump @loop;